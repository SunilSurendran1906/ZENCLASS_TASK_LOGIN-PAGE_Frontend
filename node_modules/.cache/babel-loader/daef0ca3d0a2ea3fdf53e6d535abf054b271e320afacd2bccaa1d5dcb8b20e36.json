{"ast":null,"code":"var _s = $RefreshSig$();\n// import axios from \"axios\";\n// import { useEffect, useState } from \"react\";\n// axios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\n// /**custom hook */\n// export default function useFetch(query) {\n//   console.log(query);\n//   const [getData, setGetData] = useState({\n//     isloading: false,\n//     apiData: undefined,\n//     status: null,\n//     serverError: null,\n//   });\n//   useEffect(() => {\n//     if (!query) return;\n//     const fetchData = async () => {\n//       try {\n//         setGetData((prev) => ({\n//           ...prev,\n//           isloading: true,\n//         }));\n//         const { data, status } = await axios.get(`/api/${query}`);\n//         if (status === 201) {\n//           setGetData((prev) => ({\n//             ...prev,\n//             isloading: false,\n//           }));\n//           setGetData((prev) => ({\n//             ...prev,\n//             apiData: data,\n//             status: status,\n//           }));\n//         }\n//         setGetData((prev) => ({\n//           ...prev,\n//           isloading: false,\n//         }));\n//       } catch (error) {\n//         setGetData((prev) => ({\n//           ...prev,\n//           isloading: false,\n//           serverError: error,\n//         }));\n//       }\n//     };\n//     fetchData();\n//   }, [query]);\n\n//   return [getData, setGetData];\n// }\n\nexport default function useFetch(query) {\n  _s();\n  const [getData, setData] = useState({\n    isLoading: false,\n    apiData: undefined,\n    status: null,\n    serverError: null\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setData(prev => ({\n          ...prev,\n          isLoading: true\n        }));\n        const {\n          username\n        } = !query ? await getUsername() : '';\n        const {\n          data,\n          status\n        } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\n        if (status === 201) {\n          setData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setData(prev => ({\n            ...prev,\n            apiData: data,\n            status: status\n          }));\n        }\n        setData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n      } catch (error) {\n        setData(prev => ({\n          ...prev,\n          isLoading: false,\n          serverError: error\n        }));\n      }\n    };\n    fetchData();\n  }, [query]);\n  return [getData, setData];\n}\n_s(useFetch, \"o15tWQdQe0lVtIKOx9nvWv5XvY4=\");","map":{"version":3,"names":["useFetch","query","_s","getData","setData","useState","isLoading","apiData","undefined","status","serverError","useEffect","fetchData","prev","username","getUsername","data","axios","get","error"],"sources":["D:/Nodejs/BACKEND/ZENCLASS_NODE_TASK/RESTPASSWORD/login_app/client/src/hooks/fetchhook.js"],"sourcesContent":["// import axios from \"axios\";\r\n// import { useEffect, useState } from \"react\";\r\n// axios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\r\n// /**custom hook */\r\n// export default function useFetch(query) {\r\n//   console.log(query);\r\n//   const [getData, setGetData] = useState({\r\n//     isloading: false,\r\n//     apiData: undefined,\r\n//     status: null,\r\n//     serverError: null,\r\n//   });\r\n//   useEffect(() => {\r\n//     if (!query) return;\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         setGetData((prev) => ({\r\n//           ...prev,\r\n//           isloading: true,\r\n//         }));\r\n//         const { data, status } = await axios.get(`/api/${query}`);\r\n//         if (status === 201) {\r\n//           setGetData((prev) => ({\r\n//             ...prev,\r\n//             isloading: false,\r\n//           }));\r\n//           setGetData((prev) => ({\r\n//             ...prev,\r\n//             apiData: data,\r\n//             status: status,\r\n//           }));\r\n//         }\r\n//         setGetData((prev) => ({\r\n//           ...prev,\r\n//           isloading: false,\r\n//         }));\r\n//       } catch (error) {\r\n//         setGetData((prev) => ({\r\n//           ...prev,\r\n//           isloading: false,\r\n//           serverError: error,\r\n//         }));\r\n//       }\r\n//     };\r\n//     fetchData();\r\n//   }, [query]);\r\n\r\n//   return [getData, setGetData];\r\n// }\r\n\r\nexport default function useFetch(query){\r\n  const [getData, setData] = useState({ isLoading : false, apiData: undefined, status: null, serverError: null })\r\n\r\n  useEffect(() => {\r\n\r\n      const fetchData = async () => {\r\n          try {\r\n              setData(prev => ({ ...prev, isLoading: true}));\r\n\r\n              const { username } = !query ? await getUsername() : '';\r\n              \r\n              const { data, status } = !query ? await axios.get(`/api/user/${username}`) : await axios.get(`/api/${query}`);\r\n\r\n              if(status === 201){\r\n                  setData(prev => ({ ...prev, isLoading: false}));\r\n                  setData(prev => ({ ...prev, apiData : data, status: status }));\r\n              }\r\n\r\n              setData(prev => ({ ...prev, isLoading: false}));\r\n          } catch (error) {\r\n              setData(prev => ({ ...prev, isLoading: false, serverError: error }))\r\n          }\r\n      };\r\n      fetchData()\r\n\r\n  }, [query]);\r\n\r\n  return [getData, setData];\r\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,SAASA,QAAQA,CAACC,KAAK,EAAC;EAAAC,EAAA;EACrC,MAAM,CAACC,OAAO,EAAEC,OAAO,CAAC,GAAGC,QAAQ,CAAC;IAAEC,SAAS,EAAG,KAAK;IAAEC,OAAO,EAAEC,SAAS;IAAEC,MAAM,EAAE,IAAI;IAAEC,WAAW,EAAE;EAAK,CAAC,CAAC;EAE/GC,SAAS,CAAC,MAAM;IAEZ,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACAR,OAAO,CAACS,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEP,SAAS,EAAE;QAAI,CAAC,CAAC,CAAC;QAE9C,MAAM;UAAEQ;QAAS,CAAC,GAAG,CAACb,KAAK,GAAG,MAAMc,WAAW,CAAC,CAAC,GAAG,EAAE;QAEtD,MAAM;UAAEC,IAAI;UAAEP;QAAO,CAAC,GAAG,CAACR,KAAK,GAAG,MAAMgB,KAAK,CAACC,GAAG,CAAE,aAAYJ,QAAS,EAAC,CAAC,GAAG,MAAMG,KAAK,CAACC,GAAG,CAAE,QAAOjB,KAAM,EAAC,CAAC;QAE7G,IAAGQ,MAAM,KAAK,GAAG,EAAC;UACdL,OAAO,CAACS,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEP,SAAS,EAAE;UAAK,CAAC,CAAC,CAAC;UAC/CF,OAAO,CAACS,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEN,OAAO,EAAGS,IAAI;YAAEP,MAAM,EAAEA;UAAO,CAAC,CAAC,CAAC;QAClE;QAEAL,OAAO,CAACS,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEP,SAAS,EAAE;QAAK,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC,OAAOa,KAAK,EAAE;QACZf,OAAO,CAACS,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAEP,SAAS,EAAE,KAAK;UAAEI,WAAW,EAAES;QAAM,CAAC,CAAC,CAAC;MACxE;IACJ,CAAC;IACDP,SAAS,CAAC,CAAC;EAEf,CAAC,EAAE,CAACX,KAAK,CAAC,CAAC;EAEX,OAAO,CAACE,OAAO,EAAEC,OAAO,CAAC;AAC3B;AAACF,EAAA,CA5BuBF,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}